services:
  ai-orchestrator:
    image: ${DOCKER_IMAGE}
    container_name: ai-orchestrator
    restart: unless-stopped
    ports:
      - "8000:8000"
    env_file:
      - ./.env
    healthcheck:
      test:
        [
          "CMD-SHELL",
          "wget -qO- http://localhost:8000/health >/dev/null 2>&1 || exit 1",
        ]
      interval: 10s
      timeout: 3s
      retries: 12
      start_period: 20s
